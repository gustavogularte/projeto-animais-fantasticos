(()=>{"use strict";function t(t,e){const i=document.documentElement;function s({target:a}){t.contains(a)||(e(),i.removeEventListener("click",s))}setTimeout((()=>i.addEventListener("click",s)))}new class{constructor(t,e,i){this.imgPrincipal=document.querySelector(t),this.thumbs=document.querySelectorAll(e),this.conteudo=document.querySelectorAll(i),this.ativarConteudo=this.ativarConteudo.bind(this)}ativarConteudo(t,e){const i=t.getAttribute("src"),s=t.getAttribute("alt");this.imgPrincipal.setAttribute("src",i),this.imgPrincipal.setAttribute("alt",s),this.conteudo.forEach((t=>{t.classList.remove("ativo")})),this.conteudo[e].classList.add("ativo",this.conteudo[e].dataset.anime)}addEvent(){this.thumbs.forEach(((t,e)=>{t.addEventListener("click",(()=>{this.ativarConteudo(t,e)}))}))}init(){return this.imgPrincipal&&this.thumbs.length&&this.conteudo.length&&this.addEvent(),this}}('[data-animais="imgPrincipal"]','[data-animais="animaisThumbs"] img','[data-animais="animaisConteudo"] section').init(),new class{constructor(t){this.perguntas=document.querySelectorAll(t),this.ativarResposta=this.ativarResposta.bind(this)}ativarResposta(t){t.currentTarget.nextElementSibling.classList.toggle("ativo"),"true"===t.target.getAttribute("aria-expanded")?t.target.setAttribute("aria-expanded",!1):t.target.setAttribute("aria-expanded",!0)}addEvent(){this.perguntas.forEach((t=>{t.addEventListener("click",this.ativarResposta)}))}init(){return this.perguntas.length&&this.addEvent(),this}}('[data-accordion="faq"] dt').init(),new class{constructor(t){this.linksInternos=document.querySelectorAll(t)}ativarScroll(t){t.preventDefault();const e=t.target.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth"})}addEvent(){this.linksInternos.forEach((t=>{t.addEventListener("click",this.ativarScroll)}))}init(){return this.linksInternos.length&&this.addEvent(),this}}('[data-menu="menu"] a[href^="#"]').init(),new class{constructor(t){this.sections=document.querySelectorAll(t),this.ativarSection=this.ativarSection.bind(this)}ativarSection(){const t=.7*window.innerHeight;this.sections.forEach((e=>{e.getBoundingClientRect().top<t&&e.classList.add("ativo")}))}addEvent(){window.addEventListener("scroll",this.ativarSection)}init(){return this.sections.length&&this.addEvent(),this}}('[data-anime="scroll"]').init(),new class{constructor(t,e,i){this.modalContainer=document.querySelector(t),this.abrir=document.querySelector(e),this.fechar=document.querySelector(i),this.toggleModal=this.toggleModal.bind(this),this.clickFora=this.clickFora.bind(this)}toggleModal(){this.modalContainer.classList.toggle("ativo")}clickFora(t){t.target===this.modalContainer&&this.toggleModal()}addEvent(){this.abrir.addEventListener("click",this.toggleModal),this.fechar.addEventListener("click",this.toggleModal),this.modalContainer.addEventListener("click",this.clickFora)}init(){return this.modalContainer&&this.abrir&&this.fechar&&this.addEvent(),this}}('[data-modal="modal"]','[data-modal="abrir"]','[data-modal="fechar"]').init(),new class{constructor(t){this.img=document.querySelector(t),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}onMouseOver({currentTarget:t}){this.criarTooltipBox(t),t.addEventListener("mouseleave",this.onMouseLeave),t.addEventListener("mousemove",this.onMouseMove)}onMouseMove(t){this.tooltipBox.style.top=`${t.pageY+20}px`,this.tooltipBox.style.left=`${t.pageX+20}px`}onMouseLeave(t){this.tooltipBox.remove(),t.currentTarget.removeEventListener("mouseleave",this.onMouseLeave)}criarTooltipBox(t){const e=document.createElement("div"),i=t.getAttribute("aria-label");e.innerText=i,e.classList.add("tooltip"),document.body.appendChild(e),this.tooltipBox=e}addEvent(){this.img.addEventListener("mouseover",this.onMouseOver)}init(){return this.img&&this.addEvent(),this}}("[data-tooltip]").init(),new class{constructor(t){this.dropdown=document.querySelector(t)}abrirDropdown(e){e.preventDefault();const i=e.currentTarget;i.classList.toggle("ativo"),"false"===i.getAttribute("aria-expanded")&&t(this,(()=>{this.classList.remove("ativo"),i.setAttribute("aria-expanded","false")})),i.classList.contains("ativo")?i.setAttribute("aria-expanded","true"):i.setAttribute("aria-expanded","false")}addEvent(){this.dropdown.addEventListener("click",this.abrirDropdown)}init(){return this.dropdown&&this.addEvent(),this}}("[data-dropdown]").init(),new class{constructor(t,e){this.botao=document.querySelector(t),this.menu=document.querySelector(e),this.abrirMenu=this.abrirMenu.bind(this)}abrirMenu(){this.menu.classList.toggle("ativo"),"false"===this.botao.getAttribute("aria-expanded")&&t(this.menu,(()=>{this.menu.classList.remove("ativo"),this.botao.setAttribute("aria-expanded","false")})),this.botao.setAttribute("aria-expanded","true")}addEvent(){this.botao.addEventListener("click",this.abrirMenu)}init(){return this.menu&&this.botao&&this.addEvent(),this}}('[data-menu="menuBotao"]','[data-menu="menu"]').init(),new class{constructor(t,e,i){this.sectionObserver=document.querySelector(t),this.numeros=document.querySelectorAll(e),this.animais=document.querySelectorAll(i),this.handleMutation=this.handleMutation.bind(this)}async fetchAnimais(){const t=await fetch("../animaisapi.json"),e=await t.json();this.animais.forEach(((t,i)=>{t.innerText=e[i].especie,this.numeros[i].innerText=e[i].total})),this.animarNumeros()}animarNumeros(){this.numeros.forEach((t=>{const e=+t.innerText,i=Math.floor(e/100);let s=0;const a=setInterval((()=>{t.innerText=s,s+=i,s>e&&(t.innerText=e,clearInterval(a))}),25*Math.random())}))}handleMutation(t){t[0].target.classList.contains("ativo")&&(this.observer.disconnect(),this.fetchAnimais())}addEvent(){this.observer=new MutationObserver(this.handleMutation),this.observer.observe(this.sectionObserver,{attributes:!0})}init(){return this.numeros.length&&this.addEvent(),this}}("[data-observer]","[data-numeros] span","[data-numeros] h3").init(),new class{constructor(t,e){this.semana=document.querySelector(t),this.horario=document.querySelector(e)}dataHoje(){const t=new Date,e=t.getDay(),i=t.getHours();this.funcionamento(e,i)}funcionamento(t,e){const i=this.semana.dataset.semana.split(",").map(Number),s=this.horario.dataset.horario.split(",").map(Number),a=-1!==i.indexOf(t),n=e>=s[0]&&e<s[1];this.aberto(a,n)}aberto(t,e){t&&e&&this.semana.classList.add("aberto")}init(){this.dataHoje()}}("[data-semana]","[data-horario]").init()})();